<script type="text/javascript" src="webgl-utils.js"></script>

<body onload="start();">

	<h1 style='color:red;background-color:black'>worldclass</h1>
	<canvas id="Canvas" width="500" height="500" style="border:1px solid #d3d3d3;">
	Your browser does not support the HTML5 canvas tag.</canvas>
</body>

<script>

function start() {

	document.onkeydown = handleKeyDown;

	tick();
}

var posY = 25;
var isUp = false;
var gameover = false;
var speed = 1;
var score = 0;

function draw() {
	var c=document.getElementById("Canvas");
	var ctx=c.getContext("2d");
	ctx.lineWidth=25;
	ctx.strokeStyle="#000000";
	ctx.clearRect ( 0 , 0 , c.width , c.height );
	ctx.beginPath();
	ctx.arc(250,posY,12,0,2*Math.PI);
	ctx.stroke();

	ctx.strokeStyle="#66FF00";
	ctx.beginPath();
	ctx.lineWidth=25;
	ctx.lineCap="round"
	ctx.moveTo(0,500);
	ctx.lineTo(500,500);
	ctx.stroke();

	if(gameover){
		ctx.lineWidth=2;
		ctx.strokeStyle="#000000";
		ctx.font = "30px Arial";
		ctx.strokeText("GameOver BITCH!!!",10,50);
	}

	ctx.lineWidth=2;
	ctx.strokeStyle="#000000";
	ctx.font = "30px Arial";
	ctx.strokeText("Score: "+score,300,50);
}

function animate() {
	if(gameover){

	}else{
		if(isUp){
			posY = posY - speed;
		}else{
			posY = posY + speed;
		}

		if(posY > 470){
			posY = 470;
			gameover = true;
			//isUp = true;
		}
		if(posY < 25){
			posY = 25;
			isUp = false;
		}
	}
}

function tick() {
	requestAnimFrame(tick);
	draw();
	animate();
}

function handleKeyDown(event) {
	if(gameover){

	}else{
	    if(event.keyCode ==  38){
	    	isUp = true;
	    	speed = speed + 1;
	    	score = score +100;
	    }
	}
}

</script>